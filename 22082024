import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.nio.file.StandardCopyOption;
import java.util.Scanner;

public class CblFileCopier {

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        // Input: Path where .cbl files are generated
        System.out.println("Enter the source directory path where .cbl files are located:");
        String sourceDir = scanner.nextLine();

        // Input: Path where the runnable JAR is located
        System.out.println("Enter the destination directory path where the runnable JAR is located:");
        String destinationDir = scanner.nextLine();

        // Create File objects for source and destination directories
        File sourceFolder = new File(sourceDir);
        File destinationFolder = new File(destinationDir);

        // Check if the source directory exists
        if (!sourceFolder.exists() || !sourceFolder.isDirectory()) {
            System.out.println("The source directory does not exist or is not a directory.");
            scanner.close();
            return;
        }

        // Check if the destination directory exists
        if (!destinationFolder.exists() || !destinationFolder.isDirectory()) {
            System.out.println("The destination directory does not exist or is not a directory.");
            scanner.close();
            return;
        }

        // Copy .cbl files from the source directory to the destination directory
        File[] files = sourceFolder.listFiles((dir, name) -> name.endsWith(".cbl"));

        if (files != null && files.length > 0) {
            for (File file : files) {
                try {
                    Path sourcePath = Paths.get(file.getAbsolutePath());
                    Path destinationPath = Paths.get(destinationFolder.getAbsolutePath(), file.getName());

                    Files.copy(sourcePath, destinationPath, StandardCopyOption.REPLACE_EXISTING);
                    System.out.println("Copied " + file.getName() + " to " + destinationFolder.getAbsolutePath());
                } catch (IOException e) {
                    System.out.println("Failed to copy " + file.getName() + ": " + e.getMessage());
                    e.printStackTrace();
                }
            }
            System.out.println("All .cbl files have been copied successfully.");
        } else {
            System.out.println("No .cbl files found in the source directory.");
        }

        scanner.close();
    }
}




----------------------------

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.nio.file.Paths;
import java.util.Scanner;
import java.util.jar.JarEntry;
import java.util.jar.JarOutputStream;
import java.util.zip.ZipEntry;
import java.util.zip.ZipInputStream;
import java.util.zip.ZipOutputStream;

public class CblFileCopierToJar {

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        // Input: Path where .cbl files are generated
        System.out.println("Enter the source directory path where .cbl files are located:");
        String sourceDir = scanner.nextLine();

        // Input: Path to the JAR file
        System.out.println("Enter the full path of the runnable JAR file:");
        String jarPath = scanner.nextLine();

        // Input: Name of the folder inside the JAR where files should be copied
        System.out.println("Enter the folder name inside the JAR where files should be copied:");
        String folderName = scanner.nextLine();

        File sourceFolder = new File(sourceDir);
        File jarFile = new File(jarPath);

        try {
            // Create a temporary JAR file
            File tempJar = new File(jarFile.getAbsolutePath() + ".tmp");
            try (JarOutputStream jos = new JarOutputStream(new FileOutputStream(tempJar));
                 ZipInputStream zis = new ZipInputStream(new FileInputStream(jarFile))) {
                
                // Copy the existing entries of the JAR file to the new JAR file
                ZipEntry entry;
                while ((entry = zis.getNextEntry()) != null) {
                    jos.putNextEntry(entry);
                    byte[] buffer = new byte[1024];
                    int length;
                    while ((length = zis.read(buffer)) > 0) {
                        jos.write(buffer, 0, length);
                    }
                    jos.closeEntry();
                    zis.closeEntry();
                }

                // Add .cbl files to the new folder inside the JAR
                for (File file : sourceFolder.listFiles((dir, name) -> name.endsWith(".cbl"))) {
                    String entryName = folderName + "/" + file.getName();
                    jos.putNextEntry(new JarEntry(entryName));
                    Files.copy(file.toPath(), jos);
                    jos.closeEntry();
                }
            }

            // Replace the original JAR file with the new one
            if (!jarFile.delete()) {
                System.out.println("Failed to delete the original JAR file.");
                return;
            }
            if (!tempJar.renameTo(jarFile)) {
                System.out.println("Failed to rename the temporary JAR file.");
            } else {
                System.out.println("Successfully updated the JAR file with .cbl files.");
            }

        } catch (IOException e) {
            System.out.println("An error occurred while modifying the JAR file.");
            e.printStackTrace();
        }

        scanner.close();
    }
}

----------------------

C:\Users\v1010513\Desktop\TEst\Teller_Branch_Service_Validation.jar\com\tcs\bancs\microservices\jvm\validate



++++++++++++++++++


import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.Scanner;
import java.util.jar.JarEntry;
import java.util.jar.JarOutputStream;
import java.util.zip.ZipEntry;
import java.util.zip.ZipInputStream;

public class CblFileCopierToJar {

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        // Input: Path where .cbl files are generated
        System.out.println("Enter the source directory path where .cbl files are located:");
        String sourceDir = scanner.nextLine();

        // Input: Path to the JAR file
        System.out.println("Enter the full path of the runnable JAR file:");
        String jarPath = scanner.nextLine();

        // Input: Path inside the JAR where files should be copied
        String internalPath = "com/tcs/bancs/microservices/jvm/validate/";

        File sourceFolder = new File(sourceDir);
        File jarFile = new File(jarPath);

        try {
            // Create a temporary JAR file
            File tempJar = new File(jarFile.getAbsolutePath() + ".tmp");
            try (JarOutputStream jos = new JarOutputStream(new FileOutputStream(tempJar));
                 ZipInputStream zis = new ZipInputStream(new FileInputStream(jarFile))) {
                
                // Copy the existing entries of the JAR file to the new JAR file
                ZipEntry entry;
                while ((entry = zis.getNextEntry()) != null) {
                    jos.putNextEntry(entry);
                    byte[] buffer = new byte[1024];
                    int length;
                    while ((length = zis.read(buffer)) > 0) {
                        jos.write(buffer, 0, length);
                    }
                    jos.closeEntry();
                    zis.closeEntry();
                }

                // Add .cbl files to the specified folder inside the JAR
                for (File file : sourceFolder.listFiles((dir, name) -> name.endsWith(".cbl"))) {
                    String entryName = internalPath + file.getName();
                    jos.putNextEntry(new JarEntry(entryName));
                    Files.copy(file.toPath(), jos);
                    jos.closeEntry();
                }
            }

            // Replace the original JAR file with the new one
            if (!jarFile.delete()) {
                System.out.println("Failed to delete the original JAR file.");
                return;
            }
            if (!tempJar.renameTo(jarFile)) {
                System.out.println("Failed to rename the temporary JAR file.");
            } else {
                System.out.println("Successfully updated the JAR file with .cbl files.");
            }

        } catch (IOException e) {
            System.out.println("An error occurred while modifying the JAR file.");
            e.printStackTrace();
        }

        scanner.close();
    }
}



